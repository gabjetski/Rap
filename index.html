<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Register Form</title>
    <link rel="stylesheet" href="style.css">
  </head>

  <body>
  <h2>Rap Plattform</h2>

  <button class="openForm" onclick="openLogin()">Log In/Register</button>

  
  <div id="loginForm">
    <div id="blocker1" onclick="closeLogin()"></div>
    <div class="form-popup">
      <form action="index.html">
        <h1>Login</h1>
        <div>
          <label for="username"><b>Email/Username</b></label>
          <input type="text" placeholder="Enter Email or Username" name="email" required>

          <label for="login-psw"><b>Password</b></label>
          <input type="password" placeholder="Enter Password" name="login-psw" id="login-psw" required>

          <button type="submit" class="loginButton">Login</button>
            <button type="submit" class="signupButton" onclick="openRegister()">You don't have an account yet? Sign Up </button>
          <button type="button" class="cancelButton" onclick="closeLogin()">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  
  <div id="registerForm">
    <div id="blocker2" onclick="closeRegister()"></div>
    <div class="form-popup">
      <form action="index.html">
        <h1>Register</h1>
        <p>Please fill in this form to create an account.</p>
        <fieldset>
            <label for="firstName"><b>Your First Name</b></label>
            <input type="text" placeholder="Enter First Name" name="firstName" required>

            <label for="lastName"><b>Your Last Name</b></label>
            <input type="text" placeholder="Enter Last Name" name="lastName" required>

            <label for="username"><b>Your Username</b></label>
            <input type="text" placeholder="Enter Username" name="username" required>

            <label for="email"><b>Your Email</b></label>
            <input type="text" placeholder="Enter Email" name="email" required>

            <label for="psw"><b>Password</b></label>
            <input type="password" placeholder="Enter Password" name="psw" id="psw" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required>

            <label for="psw-repeat"><b>Repeat Password</b></label>
            <input type="password" placeholder="Repeat Password" name="psw-repeat" id="psw-repeat" required>

            <button type="submit" class="newAccountButton" onclick="validatePassword()">Sign Up</button>
            <button type="submit" class="signupButton" onclick="openLogin()">Do you have an account already? Sign In here</button>
            <button type="button" class="cancelButton" onclick="closeRegister()">Cancel</button>
        </fieldset>
      </form>
    </div>
  </div>

  <script>
    const login = document.getElementById("loginForm");
    const register = document.getElementById("registerForm");

    function openLogin() {
      login.style.display = "block";
      register.style.display = "none";
    }

    function closeLogin() {
      login.style.display = "none";
    }

    function openRegister() {
      register.style.display = "block";
      login.style.display = "none";
    }

    function closeRegister() {
      register.style.display = "none";
    }

    let password = document.getElementById("psw");
    let confirm_password = document.getElementById("psw-repeat");

    function validatePassword(){
      if(password.value != confirm_password.value) {
        confirm_password.setCustomValidity("Passwords Don't Match");
      } else {
        confirm_password.setCustomValidity('');
      }
    }

  </script>

  </body>
</html>
